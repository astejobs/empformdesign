<div class="container main-container">
    <div class="row">
        <div class="col-sm-12 card">
            <div class="mt-2">
                <form #myForm="ngForm" (ngSubmit)="onSubmitForm()">
                    <div class="panel panel-success bg-light mt-2" *ngIf="currentPanel == 'start'">
                        <div class="panel-heading">
                            <h5 class="panel-title text-uppercase py-1">Employment Application Form</h5>
                        </div>

                        <div class="panel-body text-danger" *ngIf="showSucessMsg">
                            <small>{{successMsg}}</small>
                        </div>
                        <div class="panel-body text-success" *ngIf="showErrorMsg">
                            <small>{{errorMsg}}</small>
                        </div>
                        <div class="container-fluid">
                            <!-- <table class="table"> -->
                                <div class="row">
                                    <div class="col-sm-12 col-md-2"><label>Post Applied For<span class="text-danger">*</span></label></div>
                                    <div class="col-sm-12 col-md-2"><input type="text" class="form-control input-sm" name="postAppliedFor" [(ngModel)]="candidate.postAppliedFor" required #postAppliedFor="ngModel">
                                        <mat-error *ngIf="stepErrors && !postAppliedFor.valid">Please enter a valid post</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2">Company<span class="text-danger">*</span></div>
                                        <div class="col-sm-12 col-md-2"><input type="text" class="form-control input-sm" name="company" [(ngModel)]="candidate.company" required #company="ngModel">
                                        <mat-error *ngIf="company.invalid && stepErrors">Please enter a valid company</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2">Project Site<span class="text-danger">*</span></div>
                                        <div class="col-sm-12 col-md-2"><input type="text" class="form-control input-sm" name="projectSite" [(ngModel)]="candidate.projectSite" required #projectSite="ngModel">
                                        <mat-error *ngIf="projectSite.invalid && stepErrors">Please enter a valid project site</mat-error>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12" >
                                        <p class="lead">How did you learn about this position?<span class="text-danger">*</span></p>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio1" value="Job portals">
                                            <label class="form-check-label" for="inlineRadio1">Job portals</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio2" value="Newspaper advertisement">
                                            <label class="form-check-label" for="inlineRadio2">Newspaper advertisement</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio3" value="Recruitment agency">
                                            <label class="form-check-label" for="inlineRadio3">Recruitment agency</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio4" value="Referral">
                                            <label class="form-check-label" for="inlineRadio4">Referral</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio5" value="Company Website">
                                            <label class="form-check-label" for="inlineRadio5">Company Website</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="infoAboutPosition" [(ngModel)]="candidate.infoAboutPosition" required #infoAboutPosition="ngModel" id="inlineRadio6" value="Others">
                                            <label class="form-check-label" for="inlineRadio6">Others</label>
                                        </div>
                                        <mat-error *ngIf="infoAboutPosition.invalid && stepErrors">Please select one</mat-error>

                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="lead">Are you referral by any employee working in the company?<span class="text-danger">*</span>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="referral" [(ngModel)]="candidate.referral" required #referral="ngModel" id="inlineRadio7" value="true">
                                                <label class="form-check-label" for="inlineRadio7">Yes</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="referral" [(ngModel)]="candidate.referral" required #referral="ngModel" id="inlineRadio8" value="false">
                                                <label class="form-check-label" for="inlineRadio8">No</label>
                                            </div>
                                            <mat-error *ngIf="referral.invalid && stepErrors">Please select one</mat-error>


                                            <div id="referals" class="row" *ngIf="referral.value == 'true'">
                                                <div class=" col-md-4 ">Name : <input type="text " class="form-control " name="referralName " [(ngModel)]="referralEmployee.name " required #refName="ngModel">
                                                    <mat-error *ngIf="refName.invalid && stepErrors">Enter a valid employee name</mat-error>
                                                </div>
                                                <div class="col-md-4 "> Department :<input type="text " class="form-control " name="referralDepartment " [(ngModel)]="referralEmployee.department " required #refDepartment="ngModel">
                                                    <mat-error *ngIf="refDepartment.invalid && stepErrors">Enter a valid department</mat-error>
                                                </div>
                                                <div class="col-md-4 "> Relationship : <input type="text " class="form-control " name="referralRelationship " [(ngModel)]="referralEmployee.relationship " required #refRelationship="ngModel">
                                                    <mat-error *ngIf="refRelationship.invalid && stepErrors">Enter a valid relationship</mat-error>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <!-- </table> -->
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='pp' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Personal Particulars</div>
                        <div class="container-fluid ">
                            <!-- <table class="table "> -->
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Full Name (as per NRIC / Passport)<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-5">
                                        <input type="text " name="fullName " [(ngModel)]="personalDetails.fullName" required #pdName="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdName.invalid && stepErrors">Enter a valid name</mat-error>

                                    </div>
                                    <div class="col-sm-12 col-md-3">Recent Passport Sized Photo<span class="text-danger">*</span>
                                        <div class="form-group">
                                            <input type="file" #fileInput name="image" [(ngModel)]="image" required (change)="fileProgress($event)" class="form-control d-none" accept="image/*" />
                                        </div>
                                        <img [src]="previewUrl" alt="Photo " (click)="fileInput.click()" class="img-responsive img-thumbnail " id="pic_photo " style="cursor: pointer;width:200px " />
                                  <br> <mat-error *ngIf="stepErrors">Upload Image</mat-error> 
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-4">NRIC / Passport No.<span class="text-danger">*</span>
                                        <input type="text" class="form-control " name="nric" [(ngModel)]="personalDetails.nricOrPassportNumber" required #pdNric="ngModel">
                                        <mat-error *ngIf="pdNric.invalid && stepErrors">Enter a valid NRIC/Passport No.</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3">
                                        <p class="lead ">Gender<span class="text-danger">*</span>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="gender" [(ngModel)]="personalDetails.gender" required id="male" #pdGender="ngModel" value="male">
                                                <label class="form-check-label " for="male ">Male</label>

                                            </div>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="gender" [(ngModel)]="personalDetails.gender" required id="female" #pdGender="ngModel" value="female">
                                                <label class="form-check-label " for="female">Female</label>
                                            </div>
                                           <br> <mat-error *ngIf="pdGender.invalid && stepErrors">Select Gender</mat-error>

                                    </div>
                                    <div class="col-sm-12 col-md-5">
                                        <p class="lead ">Marital Status<span class="text-danger">*</span>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="maritalStatus" [(ngModel)]="personalDetails.maritalStatus" required id="single " #pdstatus="ngModel" value="single">
                                                <label class="form-check-label " for="single ">Single</label>
                                            </div>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="maritalStatus" [(ngModel)]="personalDetails.maritalStatus" required id="married" #pdstatus="ngModel" value="married">
                                                <label class="form-check-label " for="married ">Married</label>
                                            </div>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="maritalStatus" [(ngModel)]="personalDetails.maritalStatus" required value="divorced" #pdstatus="ngModel">
                                                <label class="form-check-label " for="divorced ">Divorced</label>
                                            </div>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="maritalStatus" [(ngModel)]="personalDetails.maritalStatus" required value="widowed" #pdstatus="ngModel">
                                                <label class="form-check-label " for="widowed ">Widowed</label>
                                            </div>
                                           <br> <mat-error *ngIf="pdstatus.invalid && stepErrors">Select Marital Status</mat-error>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Citizenship<span class="text-danger">*</span>
                                        <input type="text " name="citizenship" [(ngModel)]="personalDetails.citizenship" required #pdCitizenship="ngModel" class="form-control " id=" ">
                                        <mat-error *ngIf="pdCitizenship.invalid && stepErrors">Enter a valid citizenship</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <p class="lead ">Singapore PR<span class="text-danger">*</span>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="pr" [(ngModel)]="personalDetails.pr" required #pdPr="ngModel" id="pryes " value="true">
                                                <label class="form-check-label " for="pryes ">Yes</label>
                                            </div>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="pr" [(ngModel)]="personalDetails.pr" required #pdPr="ngModel" id="prno " value="false">
                                                <label class="form-check-label " for="prno ">No</label>
                                            </div>
                                            <mat-error *ngIf="pdPr.invalid && stepErrors">Select PR</mat-error>

                                    </div>
                                    <div class="col-sm-12 col-md-4" *ngIf="pdPr.value == 'true'">Date Attained SPR Status<span class="text-danger">*</span>
                                        <input type="date" name="sprDate" [(ngModel)]="personalDetails.sprDate" required id="spr " #pdSprDate="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdSprDate.invalid && stepErrors">Enter a valid status</mat-error>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Place of Birth<span class="text-danger">*</span>
                                        <input type="text" name="placeOfBirth" [(ngModel)]="personalDetails.placeOfBirth" required id="pob " #pdPob="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdPob.invalid && stepErrors">Enter a valid birth place</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4">Date of Birth<span class="text-danger">*</span>
                                        <input type="date" name="dateOfBirth" [(ngModel)]="personalDetails.dateOfBirth" required id="dob " #pdDob="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdDob.invalid && stepErrors">Select Dob</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4">Age<span class="text-danger">*</span>
                                        <!-- minlength="18" -->
                                        <input type="number" name="age" [(ngModel)]="personalDetails.age" pattern="\d{2}" value="{{ myAgeFunction(personalDetails.dateOfBirth) }}" #pdAge="ngModel" class="form-control" readonly>
                                       <!--<mat-error *ngIf="pdAge.invalid && stepErrors">This field is required and Age should be in 2 digits</mat-error>
                                -->     </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Race<span class="text-danger">*</span>
                                        <input type="text " name="race" [(ngModel)]="personalDetails.race" required id="race " #pdRace="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdRace.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4">Religion<span class="text-danger">*</span>
                                        <input type="text " name="religion" [(ngModel)]="personalDetails.religion" required #pdReligion="ngModel" id="religion " class="form-control ">
                                        <mat-error *ngIf="pdReligion.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4">Email Address<span class="text-danger">*</span>
                                        <input type="email" pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-zA-Z]{2,4}" style="text-transform: lowercase" name="email" #pdEmail="ngModel" [(ngModel)]="personalDetails.email" required id="mail " class="form-control ">
                                        <mat-error *ngIf="pdEmail.invalid  && stepErrors" >Enter a valid email</mat-error>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">NS RANK<span class="text-danger">*</span>
                                        <input type="text " name="nsRank" [(ngModel)]="personalDetails.nsRank" required id="nsrank " #pdNsRank="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdNsRank.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-6">Medical Condition<span class="text-danger">*</span>
                                        <input type="text " name="medicalCondition" [(ngModel)]="personalDetails.medicalCondition" required #pdMedicalCondition="ngModel" id="medical " class="form-control ">
                                        <mat-error *ngIf="pdMedicalCondition.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-12">Current Address<span class="text-danger">*</span>
                                        <input type="text " name="currentAddress" [(ngModel)]="personalDetails.currentAddress" required id="address1 " #pdCurrentAddress="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdCurrentAddress.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Overseas Address<span class="text-danger">*</span>
                                        <input type="text " name="overseasAddress" [(ngModel)]="personalDetails.overseasAddress" required id="address2 " #pdOverseasAddress="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdOverseasAddress.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-4">Contact No:<span class="text-danger">*</span>
                                   <!--  <td>Mobile -->
                                        <input type="number " name="mobileContact" [(ngModel)]="personalDetails.mobileContact" pattern="\d{8}" required id="address1 " #pdMobileContact="ngModel" class="form-control " placeholder="Personal Contact">
                                        <mat-error *ngIf="pdMobileContact.invalid && stepErrors"> Enter valid Personal Contact </mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4"><br>
                                        <input type="number " name="homeContact" [(ngModel)]="personalDetails.homeContact" pattern="\d{8}" required id="address1 " #pdHomeContact="ngModel" class="form-control " placeholder="Home Contact">
                                        <mat-error *ngIf="pdHomeContact.invalid && stepErrors"> Enter valid Home Contact </mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4"><br>
                                        <input type="number " name="officeContact" [(ngModel)]="personalDetails.officeContact" pattern="\d{8}" required id="address1 " #pdOfficeContact="ngModel" class="form-control " placeholder="Office Contact">
                                        <mat-error *ngIf="pdOfficeContact.invalid && stepErrors"> Enter valid Office Contact </mat-error>
                                    </div>
                                </div>
                            <!-- </table> -->
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='bd' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Bank Details</div>
                        <div class=".container-fluid">
                            <!-- <table class="table "> -->
                                <div class="row">
                                    <div class="col-sm-12 col-md-3 ">Account No.<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-9 "><input type="text " name="accountNumber" [(ngModel)]="candidate.accountNumber" required id=" " #pdAccountNumber="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdAccountNumber.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-3">Bank<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-9 "><input type="text " name="bank" [(ngModel)]="candidate.bank" required #pdBank="ngModel" class="form-control ">
                                        <mat-error *ngIf="pdBank.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                </div>
                            <!-- </table> -->
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='fp' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Family Particulars</div>
                        <div class="container-fluid">
                            <div id="familyTable">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2">Name<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Relationship<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Age<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Gender<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Occupation<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Delete</div>
                                </div>

                                <div class="row" *ngFor="let fd of familyDetails let i = index">
                                    <input type="hidden" name="id" [(ngModel)]="familyDetails[i].id" value="fd.id" />
                                    <div class="col-sm-12 col-md-2 d-md-none">Name<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="name({{i}})" [(ngModel)]="familyDetails[i].name" required id=" " #fdName="ngModel" class="form-control ">
                                        <mat-error *ngIf="fdName.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Relationship<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="relationship{{i}})" [(ngModel)]="familyDetails[i].relationship" required id=" " #fdRelationship="ngModel" class="form-control ">
                                        <mat-error *ngIf="fdRelationship.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Age<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="number " name="age({{i}})" [(ngModel)]="familyDetails[i].age" pattern="\d{2}" required id=" " #fdAge="ngModel" class="form-control ">
                                        <mat-error *ngIf="fdAge.invalid && stepErrors ">Enter a valid field</mat-error>   

                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Gender<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2">
                                        <select class="form-control" name="gender({{i}})" [(ngModel)]="familyDetails[i].gender" required #fdGender="ngModel">
                                           
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="female">Other</option>
                                          </select>
                                        <mat-error *ngIf="fdGender.invalid && stepErrors">Select gender</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Occupation<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="occupation({{i}})" [(ngModel)]="familyDetails[i].occupation" required id=" " #fdOccupation="ngModel" class="form-control ">
                                        <mat-error *ngIf="fdOccupation.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Delete</div>
                                    <div class="col-sm-12 col-md-2" >
                                        <button type="button" style="float: left;" class="close cancel ml-2 mt-3" (click)="removeFamilyMember(i,fd.id)" *ngIf="i >= 1"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addFamilyMember()">Add Member</button>
                        <!--  <p><i>In case of any emergency, kindly contact:</i></p> -->

                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='eb' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Educational Background</div>
                        <div class="container-fluid ">
                            <div id="eduTable ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2">From</div>
                                    <div class="col-md-2">To</div>
                                    <div class="col-md-3">Name of Institution</div>
                                    <div class="col-md-3">Qualification Obtained</div>
                                    <div class="col-md-2">Delete</div>
                                </div>

                                <div class="row" *ngFor="let edu of educations let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="educations[i].id" value="edu.id" />
                                    <div class="col-sm-12 col-md-2 d-md-none">From<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="from({{i}})" [(ngModel)]="educations[i].from" required id=" " #eduFrom="ngModel" class="form-control ">
                                        <mat-error *ngIf="eduFrom.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">To<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="to({{i}})" [(ngModel)]="educations[i].to" required id=" " #eduTo="ngModel" class="form-control ">
                                        <mat-error *ngIf="eduTo.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Name of Institution<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-3"><input type="text " name="institution({{i}})" [(ngModel)]="educations[i].institution" #eduInstitution="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="eduInstitution.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Qualification Obtained<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-3"><input type="text " name="qualification({{i}})" [(ngModel)]="educations[i].qualification" #eduQualification="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="eduQualification.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Delete</div>
                                    <div class="col-sm-12 col-md-2">
                                        <button type="button" style="float: left;" class="close cancel ml-2 mt-3" (click)="removeEducation(i,edu.id)" *ngIf="i >= 1"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addEducation()">Add More</button>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='eh' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Employment History (state the most recent first)</div>
                        <div class="container-fluid ">
                            <div  id="historyTable ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2"><h4>From (mm/yy)<span class="text-danger">*</span></h4></div>
                                    <div class="col-md-2"><h4>To (mm/yy)<span class="text-danger">*</span></h4></div>
                                    <div class="col-md-2"><h4>Name of Employer /Address of Employer<span class="text-danger">*</span></h4></div>
                                    <div class="col-md-2"><h4>Last Drawn Basic Salary/Allowance / Bonus<span class="text-danger">*</span></h4></div>
                                    <div class="col-md-2"><h4>Job Title/Brief Job Description<span class="text-danger">*</span></h4></div>
                                    <div class="col-md-2"><h4>Reason for Leaving<span class="text-danger">*</span></h4><br></div>
                                </div>
                               <!--  <div class="row d-none d-md-flex">
                                    <div class="col-md-2">(mm/yy)</div>
                                    <div class="col-md-2">(mm/yy)</div>
                                    <div class="col-md-2">Address of Employer</div>
                                    <div class="col-md-2">Allowance / Bonus</div>
                                    <div class="col-md-2">Brief Job Description</div>
                                    <div class="col-md-2">Delete</div>
                                </div> -->

                                <div class="row" *ngFor="let eh of employmentHistories let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="employmentHistories[i].id" value="eh.id" />
                                    <div class="col-sm-12 col-md-2 d-md-none">From<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="from({{i}})" [(ngModel)]="employmentHistories[i].from" required id=" " #ehFrom="ngModel" class="form-control ">
                                        <mat-error *ngIf="ehFrom.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">To<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="to({{i}})" [(ngModel)]="employmentHistories[i].to" required id=" " #ehTo="ngModel" class="form-control ">
                                        <mat-error *ngIf="ehTo.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Name Of Employer<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="employerInfo({{i}}) " [(ngModel)]="employmentHistories[i].employerInfo" #ehEmployerInfo="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="ehEmployerInfo.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-1 d-md-none">Last Drawn Basic Salary<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="number"  min=0 name="salaryInfo({{i}}) " [(ngModel)]="employmentHistories[i].salaryInfo" #ehSalaryInfo="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="ehSalaryInfo.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Job Title<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="jobDescription({{i}}) " [(ngModel)]="employmentHistories[i].jobDescription" #ehJobDescription="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="ehJobDescription.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Reason For Leaving<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2">
                                        <button type="button" class="close cancel mt-3" style="float: right;" (click)="removeHistory(i,eh.id)" *ngIf="i >= 1"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                        <input type="text " name="reasonForLeaving({{i}}) " [(ngModel)]="employmentHistories[i].reasonForLeaving" #ehReasonForLeaving="ngModel" required id=" " class="form-control col-sm-9">
                                        <mat-error *ngIf="ehReasonForLeaving.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-1 d-md-none">Delete</div>
                                    <!-- <div class="col-sm-12 col-md-1">
                                        <button type="button" class="close cancel" (click)="removeHistory(i,eh.id)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div> -->
                                </div>

                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addHistory()">Add More</button>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='lp' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Language Proficiency</div>
                        <div class="container-fluid ">
                            <div id="langTable ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2">Language<span class="text-danger">*</span></div>
                                    <div class="col-md-3">Spoken</div>
                                    <div class="col-md-3">Reading</div>
                                    <div class="col-md-3">Written</div>
                                    <div class="col-md-1">Delete</div>
                                </div>

                                <div class="row" *ngFor="let lang of languages let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="languages[i].id" value="lang.id" />
                                    <div class="col-sm-12 col-md-3 d-md-none">Language<span class="text-danger">*</span></div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="name({{i}})" [(ngModel)]="languages[i].name" required id=" " #lName="ngModel" class="form-control ">
                                        <mat-error *ngIf="lName.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Spoken</div>
                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="spoken({{i}})" [(ngModel)]="languages[i].spoken" #lSpoken="ngModel" required id="s_excellent({{i}})" value="excellent">
                                            <label class="form-check-label " for="s_excellent({{i}})">Excellent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="spoken({{i}})" [(ngModel)]="languages[i].spoken" #lSpoken="ngModel" required id="s_fluent({{i}})" value="fluent">
                                            <label class="form-check-label " for="s_fluent({{i}})"> Fluent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="spoken({{i}})" [(ngModel)]="languages[i].spoken" #lSpoken="ngModel" required id="s_poor({{i}})" value="poor">
                                            <label class="form-check-label " for="s_poor({{i}}) "> Poor</label>
                                        </div>
                                        <mat-error *ngIf="lSpoken.invalid && stepErrors">Select one</mat-error>

                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Reading</div>
                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="reading({{i}})" [(ngModel)]="languages[i].reading" #lReading="ngModel" required id="f_excellent({{i}})" value="excellent">
                                            <label class="form-check-label " for="f_excellent({{i}})">Excellent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="reading({{i}})" [(ngModel)]="languages[i].reading" #lReading="ngModel" required id="f_fluent({{i}})" value="fluent">
                                            <label class="form-check-label " for="f_fluent({{i}})"> Fluent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="reading({{i}})" [(ngModel)]="languages[i].reading" #lReading="ngModel" required id="f_poor({{i}})" value="poor">
                                            <label class="form-check-label " for="f_poor({{i}})"> Poor</label>
                                        </div>
                                        <mat-error *ngIf="lReading.invalid && stepErrors">Select one</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Written</div>
                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="writing({{i}})" [(ngModel)]="languages[i].writing" #lWriting="ngModel" required id="w_excellent({{i}})" value="excellent">
                                            <label class="form-check-label " for="w_excellent({{i}})">Excellent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="writing({{i}})" [(ngModel)]="languages[i].writing" #lWriting="ngModel" required id="w_fluent({{i}})" value="fluent">
                                            <label class="form-check-label " for="w_fluent({{i}})"> Fluent  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input " type="radio" name="writing({{i}})" [(ngModel)]="languages[i].writing" #lWriting="ngModel" required id="w_poor({{i}})" value="poor">
                                            <label class="form-check-label " for="w_poor({{i}})"> Poor</label>
                                        </div>
                                        <mat-error *ngIf="lWriting.invalid && stepErrors">Select one</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Delete</div>
                                    <div class="col-sm-12 col-md-1">
                                        <button type="button" class="close cancel mt-1 mr-3" (click)="removeLanguage(i,lang.id)" *ngIf="i >= 1"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addLanguage()">Add More</button>

                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='cp' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">
                            Computer Proficiency (indicate proficiency with a tick)<span class="text-danger">*</span></div>
                        <div class="container-fluid ">
                            <div id="tableComputerProf ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-4"></div>
                                    <div class="col-md-2"> Advance</div>
                                    <div class="col-md-2"> Intermediate </div>
                                    <div class="col-md-2"> Beginers</div>
                                    <div class="col-md-2">Delete</div>
                                </div>

                                <div class="row" *ngFor="let cp of computerProficiencies let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="computerProficiencies[i].id" value="cp.id" />
                                    <div class="col-sm-12 col-md-4 d-md-none">Proficiency</div>
                                    <div class="col-sm-12 col-md-4"><input type="text " name="name({{i}})" [(ngModel)]="computerProficiencies[i].name" #cpName="ngModel" required id=" " class="form-control ">
                                        <mat-error *ngIf="cpName.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Advance</div>
                                    <div class="col-sm-12 col-md-2">
                                        <label class="checkbox-inline ">
                                        <input type = "radio" id = "ad1 " name="level({{i}})" [(ngModel)]="computerProficiencies[i].level" required #cpLevel="ngModel" value = "advance"> 
                                    </label>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Intermediate</div>
                                    <div class="col-sm-12 col-md-2">
                                        <label class="checkbox-inline ">
                                            <input type = "radio" id = "ad1 " name="level({{i}})" [(ngModel)]="computerProficiencies[i].level" required #cpLevel="ngModel" value = "intermediate"> 
                                        </label>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Beginers</div>
                                    <div class="col-sm-12 col-md-2">
                                        <label class="checkbox-inline ">
                                            <input type = "radio" id = "ad1 " name="level({{i}})" [(ngModel)]="computerProficiencies[i].level" required  #cpLevel="ngModel" value = "beginner"> 
                                        </label>
                                        <mat-error *ngIf="cpLevel.invalid && stepErrors">Select one</mat-error>
                                    </div>

                                    <div class="col-sm-12 col-md-2 d-md-none">Advance</div>
                                    <div class="col-sm-12 col-md-2"><button type="button" style="float: left;" class="close cancel ml-3 mt-2" (click)="removeComputerProficiency(i,cp.id)" *ngIf="i >= 1"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>

                                </div>
                            </div>
                            <br>
                            <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addComputerProficiency()">Add More</button>
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='ms' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Membership of Societies, Clubs and Associations</div>
                        <div class="container-fluid">
                            <div id="membershipTable ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2">From<span class="text-danger">*</span></div>
                                    <div class="col-md-2">To<span class="text-danger">*</span></div>
                                    <div class="col-md-4">Name of Societies /Clubs / Associations<span class="text-danger">*</span></div>
                                    <div class="col-md-3">Position Held<span class="text-danger">*</span></div>
                                   <div class="col-md-1">Delete</div>
                                    </div>

                                <div class="row" *ngFor="let m of memberships let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="memberships[i].id" value="m.id" />
                                    <div class="col-sm-12 col-md-2 d-md-none">From</div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="from({{i}})" [(ngModel)]="memberships[i].from" required id=" " #mFrom="ngModel" class="form-control ">
                                        <mat-error *ngIf="mFrom.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">To</div>
                                    <div class="col-sm-12 col-md-2"><input type="date" name="to({{i}})" [(ngModel)]="memberships[i].to" required id=" " #mTo="ngModel" class="form-control ">
                                        <mat-error *ngIf="mTo.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-4 d-md-none">Name of Societies /Clubs </div>
                                    <div class="col-sm-12 col-md-4"><input type="text " name="name({{i}})" [(ngModel)]="memberships[i].name" required #mName="ngModel" id=" " class="form-control ">
                                        <mat-error *ngIf="mName.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Position Held </div>
                                    <div class="col-sm-12 col-md-3"><input type="text " name="position({{i}})" [(ngModel)]="memberships[i].position" required #mPosition="ngModel" id=" " class="form-control ">
                                        <mat-error *ngIf="mPosition.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-1 d-md-none">Delete</div>
                                    <div class="col-sm-12 col-md-1">
                                        <button type="button" style="float: left;" class="close cancel ml-2 mt-3" (click)="removeMembership(i,m.id)" *ngIf="i >= 1" ><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>
                                   
                                </div>

                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addMembership()">Add More</button>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='cr' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Character References</div>
                        <div class="container-fluid ">
                            <div id="refTable ">
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-2">Name<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Position<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Company Name<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Years Known<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Contact No.<span class="text-danger">*</span></div>
                                    <div class="col-md-2">Delete<span class="text-danger">*</span></div>
                                </div>

                                <div class="row" *ngFor="let ref of references let i = index">
                                    <input type="hidden" name="id({{i}})" [(ngModel)]="references[i].id" value="ref.id" />
                                    <div class="col-sm-12 col-md-2 d-md-none">Name</div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="name({{i}})" [(ngModel)]="references[i].name" required id=" " #rName="ngModel" class="form-control ">
                                        <mat-error *ngIf="rName.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Position</div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="position({{i}})" [(ngModel)]="references[i].position" required id=" " #rPosition="ngModel" class="form-control ">
                                        <mat-error *ngIf="rPosition.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Company Name</div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="company({{i}})" [(ngModel)]="references[i].company" required id=" " #rCompany="ngModel" class="form-control ">
                                        <mat-error *ngIf="rCompany.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Years Known</div>
                                    <div class="col-sm-12 col-md-2"><input type="number" min=0 name="yearsKnown({{i}})" [(ngModel)]="references[i].yearsKnown" required id=" " #rYearsKnown="ngModel" class="form-control ">
                                        <mat-error *ngIf="rYearsKnown.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Contact No.</div>
                                    <div class="col-sm-12 col-md-2"><input type="text " name="contact({{i}})" [(ngModel)]="references[i].contact" required pattern="\d{8}" id=" " #rContact="ngModel" class="form-control ">
                                        <mat-error *ngIf="rContact.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-2 d-md-none">Delete</div>
                                    <div class="col-sm-12 col-md-2">
                                        <button type="button" style="float: left;" class="close cancel ml-2 mt-3" (click)="removeReference(i,ref.id)" *ngIf="i >= 2"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br>
                        <button type="button" class="btn btn-dark mb-2 hidden-print " style="float: right; " (click)="addReference()">Add More</button>
                        <p><small><i>(Please provide particulars of two people who are not related to you. These should be referees
                        who know you well with regard to your character and work performance.)</i></small></p>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='ra' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Remuneration and Availability</div>
                        <div class="container-fluid">
                           <!--  <table class="table "> -->
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-3">Expected Salary<span class="text-danger">*</span></div>
                                    <div class="col-md-3">Current Salary<span class="text-danger">*</span></div>
                                    <div class="col-md-3">AWS / Variable Bonus<span class="text-danger">*</span></div>
                                    <div class="col-md-3">Allowance (Please specify)<span class="text-danger">*</span></div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-3 d-md-none">Expected Salary</div>
                                    <div class="col-sm-12 col-md-3"><input type="number" min=0 class="form-control input-sm" name="expectedSalary" [(ngModel)]="candidate.expectedSalary" #expectedSalary="ngModel" required>
                                        <mat-error *ngIf="expectedSalary.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Current Salary</div>
                                    <div class="col-sm-12 col-md-3"><input type="number" min=0 class="form-control input-sm" name="currentSalary" [(ngModel)]="candidate.currentSalary" #currentSalary="ngModel" required>
                                        <mat-error *ngIf="currentSalary.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">AWS / Variable Bonus</div>
                                    <div class="col-sm-12 col-md-3"><input type="number" min=0 class="form-control input-sm" name="bonus" [(ngModel)]="candidate.bonus" #bonus="ngModel" required>
                                        <mat-error *ngIf="bonus.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-3 d-md-none">Allowance (Please specify)</div>
                                    <div class="col-sm-12 col-md-3"><input type="number" min=0 class="form-control input-sm" name="allowance" [(ngModel)]="candidate.allowance" #allowance="ngModel" required>
                                        <mat-error *ngIf="allowance.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                </div>
                            <!-- </table> -->
                        </div>
                        <br>
                        <div class="container-fluid">
                            <!-- <table class="table "> -->
                                <div class="row d-none d-md-flex">
                                    <div class="col-md-6">Notice Period( in months)</div>
                                    <div class="col-md-6">Earliest Available Date</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-6 d-md-none">Notice Period</div>
                                    <div class="col-sm-12 col-md-6"><input type="number" min=0 class="form-control input-sm" name="noticePeriod" [(ngModel)]="candidate.noticePeriod" #noticePeriod="ngModel" required>
                                        <mat-error *ngIf="noticePeriod.invalid && stepErrors">Enter a valid field</mat-error>
                                    </div>
                                    <div class="col-sm-12 col-md-6 d-md-none">Earliest Available Date</div>
                                    <div class="col-sm-12 col-md-6"><input type="date" class="form-control input-sm" name="availableDate" [(ngModel)]="candidate.availableDate" #availableDate="ngModel" required>
                                        <mat-error *ngIf="availableDate.invalid && stepErrors">Select date</mat-error>
                                    </div>
                                </div>

                            <!-- </table> -->
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='pd' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Personal Description</div>
                        <div class="table-responsive ">
                            <table class="table ">
                                <tr>
                                    <th>Strength<span class="text-danger">*</span></th>
                                    <td colspan="2 "><input type="text " name="strength" [(ngModel)]="personalDetails.strength" #pdStrength="ngModel" required class="form-control ">
                                        <mat-error *ngIf="pdStrength.invalid && stepErrors">Enter a valid field</mat-error>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Weakness<span class="text-danger">*</span></th>
                                    <td colspan="2 "><input type="text " name="weakness" [(ngModel)]="personalDetails.weakness" #pdWeakness="ngModel" required class="form-control ">
                                        <mat-error *ngIf="pdWeakness.invalid && stepErrors">Enter a valid field</mat-error>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Career Objective<span class="text-danger">*</span></th>
                                    <td colspan="2 "><input type="text " name="objective" [(ngModel)]="personalDetails.objective" #pdObjective="ngModel" required class="form-control ">
                                        <mat-error *ngIf="pdObjective.invalid && stepErrors">Enter a valid field</mat-error>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='dec' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Declarations</div>
                        <div class="table-responsive ">
                            <table class="table ">
                                <tr>
                                    <th>1</th>
                                    <td>Have you ever been convicted for any criminal offences in any criminal proceedings?
                                        <br> if 'yes' please give reason
                                        <div *ngIf="declaration1.value == 'true'"><input type="text" name="declaration1Reason" [(ngModel)]="candidate.declaration1Reason" required class="form-control" id="" #declarationReason="ngModel">
                                            <mat-error *ngIf="declarationReason.invalid && stepErrors">Enter a valid field</mat-error>
                                        </div>
                                        <mat-error *ngIf="declaration1.invalid && stepErrors">Select one</mat-error>
                                        <!--                                         <mat-error *ngIf="declarationReason.invalid && (declarationReason.dirty || declarationReason.touched)">This field is required</mat-error>
 -->
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration1" [(ngModel)]="candidate.declaration1" #declaration1="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_criminal ">Yes  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration1" [(ngModel)]="candidate.declaration1" #declaration1="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_criminal "> No  </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>2</th>
                                    <td>Have you ever suffered from mental breakdown/serious injury/physical defects? Do you have any serious illness/contagious disease?
                                        <br> if 'yes' please give reason
                                        <div *ngIf="declaration2.value == 'true'"><input type="text" name="declaration2Reason" [(ngModel)]="candidate.declaration2Reason" #declaration2Reason="ngModel" required class="form-control" id="">
                                            <mat-error *ngIf="declaration2Reason.invalid && stepErrors">Enter a valid field</mat-error>
                                        </div>
                                        <!-- <mat-error *ngIf="declaration2Reason.invalid && (declaration2Reason.dirty || declaration2Reason.touched)">This field is required</mat-error> -->
                                        <mat-error *ngIf="declaration2.invalid && stepErrors">Select one</mat-error>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration2" [(ngModel)]="candidate.declaration2" #declaration2="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_ill ">Yes  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration2" [(ngModel)]="candidate.declaration2" #declaration2="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_ill "> No  </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>3</th>
                                    <td>Are you bankrupt or declared bankrupt?
                                        <br> if 'yes' please give reason
                                        <div *ngIf="declaration3.value == 'true'"><input type="text" name="declaration3Reason" [(ngModel)]="candidate.declaration3Reason" #declaration3Reason="ngModel" required class="form-control" id="">
                                            <mat-error *ngIf="declaration3Reason.invalid && stepErrors">Enter a valid field</mat-error>

                                        </div>
                                        <!-- <mat-error *ngIf="declaration3Reason.invalid && (declaration3Reason.dirty || declaration3Reason.touched)">This field is required</mat-error> -->
                                        <mat-error *ngIf="declaration3.invalid && stepErrors">Select one</mat-error>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration3" [(ngModel)]="candidate.declaration3" #declaration3="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_bankrupt ">Yes  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration3" [(ngModel)]="candidate.declaration3" #declaration3="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_bankrupt "> No  </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>4</th>
                                    <td>Have you ever been dismissed or suspended from any position?
                                        <br> if 'yes' please give reason
                                        <div *ngIf="declaration4.value == 'true'"><input type="text" name="declaration4Reason" [(ngModel)]="candidate.declaration4Reason" #declaration4Reason="ngModel" required class="form-control" id="">
                                            <mat-error *ngIf="declaration4Reason.invalid && stepErrors">Enter a valid field</mat-error>

                                        </div>
                                       <!-- <mat-error *ngIf="declaration4Reason.invalid && (declaration4Reason.dirty || declaration4Reason.touched)">This field is required</mat-error> -->
                                        <mat-error *ngIf="declaration4.invalid && stepErrors">Select one</mat-error>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration4" [(ngModel)]="candidate.declaration4" #declaration4="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_dismissed ">Yes  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration4" [(ngModel)]="candidate.declaration4" #declaration4="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_dismissed "> No  </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>5</th>
                                    <td>For Female applicants Only: Are you currently pregnant?
                                        <br> if 'yes' please state current trimester of pregnancy.
                                        <div *ngIf="declaration5.value == 'true'"><input type="text" name="declaration5Reason" [(ngModel)]="candidate.declaration5Reason" #declaration5Reason="ngModel" required class="form-control" id="">
                                            <mat-error *ngIf="declaration5Reason.invalid && stepErrors">Enter a valid field</mat-error>

                                        </div>
                                        <!-- <mat-error *ngIf="declaration5Reason.invalid && (declaration5Reason.dirty || declaration5Reason.touched)">This field is required</mat-error> -->
                                        <mat-error *ngIf="declaration5.invalid && stepErrors">Select one</mat-error>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration5" [(ngModel)]="candidate.declaration5" #declaration5="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_pregnant ">Yes  </label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration5" [(ngModel)]="candidate.declaration5" #declaration5="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_pregnant "> No  </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>6</th>
                                    <td>Have you ever been employed by the company? (Singapore or overseas related companies)
                                        <br> if 'yes' please state your position and the department.
                                        <div *ngIf="declaration6.value == 'true'"><input type="text" name="declaration6Reason" [(ngModel)]="candidate.declaration6Reason" #declaration6Reason="ngModel" required class="form-control" id="">
                                            <mat-error *ngIf="declaration6Reason.invalid && stepErrors">Enter a valid field</mat-error>
                                        </div>
                                        <mat-error *ngIf="declaration6.invalid && stepErrors">Select one</mat-error>
                                        <!-- <mat-error *ngIf="declaration6Reason.invalid && (declaration6Reason.dirty || declaration6Reason.touched)">This field is required</mat-error> -->
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration6" [(ngModel)]="candidate.declaration6" #declaration6="ngModel" required id="inlineRadio7" value="true">
                                            <label class="form-check-label " for="yes_employed "> Yes</label>
                                        </div>
                                        <div class="form-check form-check-inline ">
                                            <input class="form-check-input" type="radio" name="declaration6" [(ngModel)]="candidate.declaration6" #declaration6="ngModel" required id="inlineRadio7" value="false">
                                            <label class="form-check-label " for="no_employed "> No </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="jumbotron mx-2 " *ngIf="currentPanel=='dec' ">
                        <div>
                            <div class="form-check form-check-inline ">
                                <input type="checkbox" class="form-check-input " name="declaration7" [(ngModel)]="candidate.declaration7" required #declaration7="ngModel" id="declarationCheck1 ">
                                <label class="form-check-label " for="declarationCheck1 "></label>
                            </div>
                            I hereby declare that all information provided in this form is correct and true to the best of my knowledge. I hereby allow and authorize (hereinafter called the company) to investigate independently of all statements contained in this Application prior
                            to my employment.
                            <mat-error *ngIf="declaration7.invalid && stepErrors">Please check this box</mat-error>
                        </div>

                        <div>
                            <div class="form-check form-check-inline ">
                                <input type="checkbox" class="form-check-input " name="declaration8" [(ngModel)]="candidate.declaration8" required #declaration8="ngModel" id="declarationCheck1 ">
                                <label class="form-check-label " for="declarationCheck2 "></label>
                            </div>
                            I also hereby give the company permission to contact schools, previous employers, references, others, to conduct checks and hereby release the company from any liability as a result of such contact. Any material, misrepresentation or omission of information
                            shall be grounds for my prospective employers decision to reject my application or, it will be sufficient grounds for immediate dismissal without notice or payment in lieu of notice in the event that I am hired.
                            <mat-error *ngIf="declaration8.invalid && stepErrors">Please check this box</mat-error>
                        </div>

                        <div>
                            <div class="form-check form-check-inline ">
                                <input type="checkbox" class="form-check-input " name="declaration9" [(ngModel)]="candidate.declaration9" required #declaration9="ngModel" id="declarationCheck1 ">
                                <label class="form-check-label " for="declarationCheck3 "></label>
                            </div>
                            In compliance with the Personal Data Protection Act (PDPA), I give my consent to the company to collect and use my personal data that I have provided in the form for the purposes of recruitment and other related administration purpose. I agree that the
                            company may disclose my personal data to third parties for accessing and evaluating my suitability for employment and other related matters.</div>
                        <mat-error *ngIf="declaration9.invalid && stepErrors">Please check this box</mat-error>
                    </div>

                    <div class="panel panel-success bg-light mt-2 " *ngIf="currentPanel=='rq' ">
                        <div class="panel-heading font-weight-bold bg-secondary p-2 ">Pre Employement Test Form</div>
                        <div class="table-responsive ">
                            <table class="table ">
                                <tr>
                                    <th>Name<span class="text-danger">*</span></th>
                                    <td><input type="text " name=" " class="form-control " id=" " value="{{personalDetails.fullName}}"></td>
                                </tr>
                                <tr>
                                    <th>NRIC / FIN / Work Permit<span class="text-danger">*</span></th>
                                    <td><input type="text " name=" " class="form-control " id=" " value="{{personalDetails.nricOrPassportNumber}}"></td>
                                </tr>
                            </table>
                        </div>
                        <div class="jumbotron my-2 ">
                            <div class="font-weight-bold ">Are you a Singaporean<span class="text-danger">*</span>
                                <div class="form-check form-check-inline ">
                                    <input class="form-check-input" type="radio" name="singaporean" [(ngModel)]="candidate.singaporean" #singaporean="ngModel" required id="inlineRadio7" value="true">
                                    <label class="form-check-label " for="yes_singaporean ">Yes</label>
                                </div>
                                <div class="form-check form-check-inline ">
                                    <input class="form-check-input" type="radio" name="singaporean" [(ngModel)]="candidate.singaporean" #singaporean="ngModel" required id="inlineRadio7" value="false">
                                    <label class="form-check-label " for="no_singaporean ">No</label>
                                </div>
                                <mat-error *ngIf="singaporean.invalid && stepErrors">Please select one</mat-error>
                            </div>
                            <div *ngIf="singaporean.value == 'true'">
                                <table class="table ">
                                    <tr>
                                        <th colspan="2 ">Which Section have You served <span class="text-danger">*</span></th>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="sectionServed" [(ngModel)]="candidate.sectionServed" #sectionServed="ngModel" required id="sap " value="SAF">
                                                <label class="form-check-label " for="sap ">SAF (Singapore Armed Force)</label>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="sectionServed" [(ngModel)]="candidate.sectionServed" #sectionServed="ngModel" required id="sap " value="SPF">
                                                <label class="form-check-label " for="spf ">SPF (Singapore Police Force)</label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="sectionServed" [(ngModel)]="candidate.sectionServed" #sectionServed="ngModel" required id="sap " value="RSAF">
                                                <label class="form-check-label " for="rsaf ">RSAF (Republic of Singapore Air Force)</label>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="sectionServed" [(ngModel)]="candidate.sectionServed" #sectionServed="ngModel" required id="sap " value="RSN">
                                                <label class="form-check-label " for="rsn ">RSN (Republic of Singapore Navy)</label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2 ">
                                            <div class="form-check form-check-inline ">
                                                <input class="form-check-input " type="radio" name="sectionServed" [(ngModel)]="candidate.sectionServed" required id="sap " #sectionServed="ngModel" value="SCDF">
                                                <label class="form-check-label " for="scdf ">SCDF (Singapore Civil Defence Force)</label>
                                            </div>
                                        </td>
                                    </tr>
                                    <mat-error *ngIf="sectionServed.invalid && stepErrors">Please select one</mat-error>

                                </table>
                            </div>
                        </div>
                        <div class="jumbotron ">
                            <p class="font-weight-bold ">Instructions</p>



                            <p>In the table below, for each statement 1-50 mark how much you agree with on the scale 1-5,<span class="text-danger">*</span></p>
                            <span class="col-sm-12 col-md-2 ">1 = disagree</span>
                            <span class="col-sm-12 col-md-2 ">2 = slightly disagree</span>
                            <span class="col-sm-12 col-md-2 ">3 = neutral</span>
                            <span class="col-sm-12 col-md-2 ">4 = slightly agree</span>
                            <span class="col-sm-12 col-md-2 ">5 = agree</span>
                        </div>
                        <div class="container-fluid">
                            <div id="TableQuestions ">
                                <!-- <tbody> -->
                                    <div class="row d-none d-md-flex">
                                        <div class="col-sm-2">S/N</div>
                                        <div class="col-md-4 col-sm-8">Rating</div>
                                        <div class="col-sm-12 col-md-6 ">Question ( I.....) </div>
                                    </div>
                                <!-- </tbody> -->
                                <div class="row" *ngFor="let rd of ratingData let i=index">
                                    <div class="col-sm-2">{{i+1}}</div>
                                    <div class="col-sm-8 col-md-4">
                                        <mat-star-rating [rating]="rating[i]" [index]="i" [starCount]="starCount" [color]="starColor" (ratingUpdated)="onRatingChanged($event)"></mat-star-rating>
                                    </div>
                                    <div class="col-sm-12 col-md-6 ">{{rd}}</div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="jumbotron p-5 mt-2 w-100 text-center ">

                        <span style="float: left; ">
                            <button type="button" class="btn btn-outline-dark px-4 mb-2" (click)="onPrevious(panelIndex)" [disabled]="panelIndex <= 0">Previous</button>
                        </span>
                        <button type="button" class="btn btn-outline-dark px-4 mr-4 mb-2" *ngIf="panelIndex+1 >= panels.length" [disabled]="!myForm.valid || ratingQuestionsSize<=0" (click)="openDialogSubmit()">Submit</button>
                        <button type="button" class="btn btn-outline-dark px-4 mb-2" (click)="openDialogCancel()">Cancel</button><!--  -->

                        <button type="button" class="btn btn-outline-dark px-4 mb-2" style="float: right; " (click)="onNext(panelIndex)" [disabled]="(panelIndex+1 >= panels.length)" *ngIf="panelIndex < panels.length-1" >Next</button>

                    </div>
                </form>

            </div>
        </div>
    </div>
</div>